document.addEventListener('DOMContentLoaded', function () {
    const eventList = document.getElementById('eventList');

    // Sample event data
    const events = [
        'Event 1',
        'Event 2',
        'Event 3',
        // Add more events as needed
    ];

    // Populate the event list
    events.forEach(event => {
        const listItem = document.createElement('li');
        listItem.textContent = event;

        const bookButton = document.createElement('button');
        bookButton.textContent = 'Book';
        bookButton.addEventListener('click', function () {
            // Remove the booked event from the list
            eventList.removeChild(listItem);

            // Send email notification
            sendEmailNotification(event);
        });

        listItem.appendChild(bookButton);
        eventList.appendChild(listItem);
    });

    function sendEmailNotification(eventName) {
        // Replace these placeholders with your Email.js Service ID, User ID, and Template ID
        const emailjsParams = {
            serviceId: 'your_service_id',
            userId: 'your_user_id',
            templateId: 'your_template_id',
        };

        emailjs.send(emailjsParams.serviceId, emailjsParams.templateId, {
            eventName: eventName,
        }, emailjsParams.userId)
            .then(function (response) {
                console.log('Email sent successfully:', response);
            }, function (error) {
                console.error('Email send failed:', error);
            });
    }
});
